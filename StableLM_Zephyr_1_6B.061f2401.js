var e=globalThis,t={},n={},o=e.parcelRequire90c9;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,o.call(l.exports,l,l.exports),l.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire90c9=o),o.register;var l=o("iL0Jt");!async function(){let e="stablelm-2-zephyr-1_6b-q4f32_1-MLC",t={model_list:[{model:"https://huggingface.co/mlc-ai/stablelm-2-zephyr-1_6b-q4f32_1-MLC",model_id:e,model_lib:l.modelLibURLPrefix+l.modelVersion+"/stablelm-2-zephyr-1_6b-q4f32_1-ctx4k_cs1k-webgpu.wasm",overrides:{context_window_size:4096}}]},n=await l.CreateMLCEngine(e,{appConfig:t,initProgressCallback:e=>{!function(e,t){let n=document.getElementById(e);if(null==n)throw Error("Cannot find label "+e);n.innerText=t}("init-label",e.text)},logLevel:"INFO"});async function o(e,t,n,o,l){let r=document.getElementById(n);r?r.value="Loading...":console.error("Cannot find textarea with id "+n);let i=await t.completions.create({prompt:"text: "+e,echo:!1,n:1,max_tokens:l,logprobs:!0,top_logprobs:o}),d="";i.choices&&i.choices[0].logprobs&&i.choices[0].logprobs.content&&i.choices[0].logprobs.content[0].top_logprobs?i.choices[0].logprobs.content[0].top_logprobs.forEach(e=>{d+=e.token.trim()+"\n"}):console.error("Unexpected reply structure",i),r.value=d,console.log(i)}let r=5,i=document.getElementById("max_words");i?i.addEventListener("input",function(){r=parseInt(this.value,10);let e=document.getElementById("label_max_words");e&&(e.innerText=`Top k words: ${r}`)}):console.error("Cannot find slider with id 'max_words'");let d=document.getElementById("context_window"),s=100;d?d.addEventListener("input",function(){s=parseInt(this.value,10);let e=document.getElementById("label_context_window");e&&(e.innerText=`Context Window (words included in query for inference): ${s}`)}):console.error("Cannot find slider with id 'context_window'");let c="everyword",a=document.getElementById("everyword"),u=document.getElementById("everyletter");a&&u?(a.addEventListener("change",function(){this.checked&&(c=this.value,console.log(`Selected option: ${c}`))}),u.addEventListener("change",function(){this.checked&&(c=this.value,console.log(`Selected option: ${c}`))})):console.error("Cannot find radio buttons with ids 'everyword' or 'everyletter'");let g=0,m=document.getElementById("match_count"),p=document.getElementById("suggested_text"),h=document.getElementById("input_text");h&&h.addEventListener("input",function(){let e=this.value,t=e.trim().split(/\s+/);if("everyword"===c){if(t.length>s&&(e=t.slice(-s).join(" ")),e.endsWith(" ")){let l=t[t.length-1];p&&p.value.includes(l)&&(g++,m&&(m.value=g.toString())),t.length>s&&(e=t.slice(-s).join(" ")),o(e,n,"suggested_text",r,1)}}else"everyletter"===c&&(t.length>s&&(e=t.slice(-s).join(" ")),o(e,n,"suggested_text",r,1))})}();
//# sourceMappingURL=StableLM_Zephyr_1_6B.061f2401.js.map
